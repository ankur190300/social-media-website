{let n=function(){let n=$("#new-post-form");n.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:n.serialize(),success:function(n){let o=e(n.data.post);$("#posts-list-container > ul").prepend(o),console.log($(".delete-post button",o).prop("href")),t($(" .delete-post button",o))},error:function(n){console.log(err.responseText)}})}))},e=function(n){return $(` <li id="post-${n._id}">\n                      <p>\n                           \n                           <small>\n                             <a class = "delete-post button" href ="/posts/delete/${n._id}"> X </a>\n                           </small>\n                           \n            \n            \n                           ${n.content}\n\n                           <br>\n\n                            <small>\n\n                               ${n.user.name}\n\n                            </small>\n                            <small>\n                            \n                            <a class="toggle-like-button" data-likes="0"  href="/likes/toggle/?id=<%=post._id%>&type=Post">\n                                0 Likes\n                            </a>\n                     \n                            </small>\n                            \n                       </p>\n                              <div class="post-comments">\n                \n                \n                            \n                  \n                  \n                            <form action="/comments/create" method ="POST">\n                              <input type="text" name ="content" placeholder="add a comment...">\n                              <input type="submit" value="submit">\n                              <input type ="hidden" name="post" value="${n._id}">\n                            </form>\n                            \n                    \n                    \n                    \n                              <div class="post-comments-list">\n                                <h3>COMMENTS </h3>\n                                <ul class="post-comments-${n._id}">\n                    \n                                  \n                         \n                                </ul>\n                    \n                              </div>  \n                \n                          </div>\n\n           \n\n             </li> `)},t=function(n){$(n).click((function(e){e.preventDefault(),console.log("hello"),$.ajax({type:"get",url:$(n).prop("href"),success:function(n){console.log(n),$(`#post-${n.data.post_id}`).remove()},error:function(n){console.log(n.responseText)}})}))};n()}